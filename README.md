## 2020百度之星开发者大赛：交通标识检测与场景匹配 - 第十八名解决方案
****************************************************************************************************************************************
- **【赛事信息】** [2020百度之星开发者大赛：交通标识检测与场景匹配](https://aistudio.baidu.com/aistudio/competition/detail/39)
- **【参赛队伍】** 3个小白顶个吴恩达    
- **【初赛成绩】** F1 Score：0.54676 【14/140】     
- **【复赛成绩】** F1 Score：0.59972 【18/50】    
- **【团队成员】** 李想[@似水5494264](https://blog.csdn.net/tiancailx)(同方威视技术股份有限公司)、
                  于子锋[@诺艾尔和阿梓喵](https://github.com/nuoaier)(惠州市安品新材料有限公司)、
                  杨航[@绝对灬尖刀ok](上海汽车变速器有限公司)

****************************************************************************************************************************************
### 模型文件
- **【模型说明】** 本次比赛参数文件已上传百度云盘      
- **【提取路径】** 链接：https://pan.baidu.com/s/1TaKGIFFeZzH-59-AVeOE5g  
- **【提取码】** qwkh      

****************************************************************************************************************************************
### 系统环境
- **python 3.6.5**     
- **paddlepaddle-gpu 1.8.0-post107**   
- **opencv-python 3.3.0.10**      
- **opencv-contrib-python 3.3.0.10**   
- **numpy 1.17.5**   
****************************************************************************************************************************************
### 方案介绍
  **【1】** 本次比赛涉及的技术方面很广泛，在Baseline的框架基础上，将比赛分为两个阶段，本项目在基线的基础上进行修改，利用目标检测开发套件PaddleDetection与度量学习库（metric_learning）进行开发。    
    
  **【2】** 检测阶段使用faster_rcnn_ResNeXt101_vd_FPN模型做迁移学习，采用kmeans法首求出锚框大小的大小分布，在配置文件中将anchor_sizes改为[6,12,18,28,48]并将anchor_start_size改为6 
    
  **【3】** 修改nms的score_threshold为0.07；求出图像的均值和方差分别为[0.4255, 0.4542, 0.4393]和[0.261276, 0.2659, 0.27744] 
    
  **【4】** 细分类和匹配部分，将image_shape改为[3,128,128]。匹配部分采用resnet152网络，通过triplet loss进行匹配训练, 求得输入图像大小的均值和方差，分别为[0.473,0.4997,0.49139]和[0.26557,0.2672,0.278],在imgtool文件修改
    
  **【5】** 去掉随机裁剪，并将interpolation修改为更为广泛使用的线性插值cv2.INTER_LANCZOS4，image_size同为[3,128,128],调试并采用margin为0.7，最后提交成绩     
    
 
